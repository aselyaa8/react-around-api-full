{"version":3,"sources":["components/ProtectedRoute.js","images/logo.svg","components/Header.js","components/Login.js","components/Register.js","utils/auth.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/InfoTooltip.js","images/success.svg","images/union.svg","components/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","Header","location","useLocation","history","useHistory","headerButtonText","headerButtonOnClick","pathname","push","handleSignOut","className","src","logo","alt","onClick","Login","state","email","password","handleChange","bind","handleSubmit","e","preventDefault","this","handleAuthorize","target","name","value","setState","onSubmit","required","id","type","placeholder","username","onChange","React","withRouter","Register","confirmPassword","handleRegister","BASE_URL","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","console","log","cardLikeButtonClassName","onCardDelete","link","onCardClick","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","handleCardLike","handleCardDelete","Footer","ImagePopup","imageModalClass","Object","keys","onClose","api","baseUrl","headers","res","ok","json","Promise","reject","status","token","fetch","method","authorization","then","_checkResponse","body","JSON","stringify","all","getInitialCards","getUserInfo","cardId","PopupWithForm","modalClassName","isOpen","title","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","onUpdateUser","minLength","maxLength","EditAvatarPopup","avatarInput","useRef","onUpdateUserAvatar","current","ref","AddPlacePopup","nameInput","setNameInput","descriptionInput","setDescriptionInput","ConfirmPopup","modalClass","handleCardDeleteConfirm","InfoTooltip","imgSrc","message","InfoTooltipMessage","InfoTooltipImgSrc","setCurrentUser","isEditProfileModalOpen","setEditProfileModalOpen","isAddPlaceModalOpen","setAddPlaceModalOpen","isEditAvatarModalOpen","setEditAvatarModalOpen","selectedCard","setSelectedCard","confirmDeletePopup","setConfirmDeletePopup","setCards","setLoggedIn","registered","showModal","registerStatus","setRegisterStatus","localStorage","getItem","setToken","handleCloseAllModals","data","catch","err","auth","user","success","failed","Provider","removeItem","path","response","setItem","removeLike","newCard","c","addLike","updateUserInfo","updateUserAvatar","postCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.96a27736.chunk.js","sourcesContent":["import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import logo from '../images/logo.svg';\nimport React from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nfunction Header(props) {\n  const location = useLocation();\n  const history = useHistory();\n  let headerButtonText = \"\";\n  let headerButtonOnClick = null;\n\n  if (location.pathname === '/signin') {\n    headerButtonText = \"Sign Up\";\n    headerButtonOnClick = () => { history.push('/signup') };\n  } else if (location.pathname === '/signup') {\n    headerButtonText = \"Log in\";\n    headerButtonOnClick = () => { history.push('/signin') };\n  } else if (location.pathname === '/') {\n    headerButtonText = \"Sign Out\";\n    headerButtonOnClick = props.handleSignOut;\n  }\n\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"Around U.S.\" className=\"logo\" />\n      <button onClick={headerButtonOnClick} className=\"header__link\">{headerButtonText}</button>\n    </header>);\n}\n\nexport default Header;\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: ''\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    if (!this.state.email || !this.state.password) {\n      return;\n    }\n    this.props.handleAuthorize(this.state.email, this.state.password);\n  }\n\n  handleChange(e) {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n\n    return (\n      <div className=\"login\">\n        <p className=\"login__heading\">\n          Log in\n        </p>\n        <form onSubmit={this.handleSubmit} className=\"login__form\">\n          <input required id=\"email\" name=\"email\" type=\"text\" placeholder=\"Email\" value={this.state.username} onChange={this.handleChange} />\n          <input required id=\"password\" name=\"password\" type=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.handleChange} />\n          <div className=\"login__button-container\">\n            <button type=\"submit\" onSubmit={this.handleSubmit} className=\"login__button\">Log in</button>\n          </div>\n        </form>\n\n        <p className=\"login__text\">Not a member yet? Sign up here!</p>\n\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Login);\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\n\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: '',\n      confirmPassword: '',\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    if (this.state.password === this.state.confirmPassword) {\n      this.props.handleRegister(this.state.email, this.state.password)\n    }\n  }\n\n  handleChange(e) {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n\n\n  render() {\n\n    return (\n      <div className=\"login\">\n        <p className=\"login__heading\">\n          Sign up\n        </p>\n        <form onSubmit={this.handleSubmit} className=\"login__form\">\n          <input required id=\"email\" name=\"email\" type=\"text\" placeholder=\"Email\" value={this.state.email} onChange={this.handleChange} />\n          <input required id=\"password\" name=\"password\" type=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.handleChange} />\n          <input id=\"confirmPassword\" name=\"confirmPassword\" type=\"password\" value={this.state.confirmPassword} onChange={this.handleChange} placeholder=\"Confirm Password\" required />\n          <div className=\"login__button-container\">\n            <button type=\"submit\" onSubmit={this.handleSubmit} className=\"login__button\">Sign Up</button>\n          </div>\n        </form>\n        <p className=\"login__text\">Already a member? Log in here!</p>\n\n      </div>\n    )\n  }\n}\n\nexport default withRouter(Register);\n","export const BASE_URL = 'http://localhost:3000/api';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      // 'Content-Security-Policy': default-src 'self'; script-src 'self' https://register.nomoreparties.co;,\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  }).then((response) => {\n    return response.json();\n  }).then((res) => {\n    return res;\n  }).catch((err) => console.log(err));\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ password, email })\n  }).then((response => response.json()))\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem('jwt', data.token);\n        console.log(data.token);\n        return data;\n      }\n    }).catch(err => console.log(err))\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      authorization: `Bearer ${token}`,\n    }\n  })\n    .then(res => res.json())\n    .then(data => data).catch(err => console.log(err))\n}\n","import React from \"react\"\n// const currentUser = {name:\"\", about:\"\", avatar:\"\"}\nexport const CurrentUserContext = React.createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `card__delete-button ${isOwn ? \"\" : 'card__delete-button_disabled'}`\n  );\n  const isLiked = props.card.likes.some(i => i === currentUser._id);\n  console.log(\"LIKES\");\n  console.log(props.card.likes);\n  const cardLikeButtonClassName = (\n    `card__like-button ${isLiked ? \"card__like-button_active\" : 'card__like-button_disabled'}`\n  );\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n  return (\n    <div className=\"card\">\n      <button aria-label=\"delete\" type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n      <img src={props.card.link} alt={props.card.name} className=\"card__image\" onClick={handleClick} />\n      <h2 className=\"card__text\">{props.card.name}</h2>\n      <div className=\"card__like\">\n        <button aria-label=\"Like\" type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n        <div className=\"card__like-overlay\"></div>\n        <p className=\"card__like-count\">{props.card.likes.length}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div className=\"profile__avatar-container\">\n                    <img src={currentUser.avatar} alt=\"portrait of user\" className=\"profile__avatar\" />\n                    <div className=\"profile__avatar-edit-container\">\n                        <button aria-label=\"Edit\" type=\"button\" className=\"profile__avatar-edit\" onClick={props.onEditAvatar}></button>\n                    </div>\n                </div>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\n                    <button aria-label=\"Edit\" type=\"button\" className=\"profile__edit-button\" onClick={props.onEditProfile}></button>\n                    <p className=\"profile__description\">{currentUser.about}</p>\n                </div>\n                <button aria-label=\"Add\" type=\"button\" className=\"profile__add-button\" onClick={props.onAddPlace}></button>\n            </section>\n            <section className=\"cards\">\n                {props.cards.map((card) => {\n                    return (<Card key={card._id}\n                        card={card}\n                        onCardClick={props.onCardClick}\n                        onCardLike={props.handleCardLike}\n                        onCardDelete={props.handleCardDelete}\n                    />\n                    )\n                })}\n            </section>\n        </main>\n    );\n}\n\nexport default Main;","import React from 'react'\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&#169; 2020 Around The U.S.</p>\n        </footer>\n    );\n}\n\nexport default Footer;\n","import React from 'react'\n\nfunction ImagePopup(props) {\n    const imageModalClass = Object.keys(props.card).length !== 0 ? 'modal_opened' : '';\n\n    return (\n        <div className = {`modal modal-figure ${imageModalClass}`}>\n            <div className=\"modal__container\">\n                <figure className=\"modal__figure\">\n                    <img src={props.card.link} alt={props.card.name} className=\"modal__image\" />\n                    <figcaption className=\"modal__image-caption\">{props.card.name}</figcaption>\n                </figure>\n                <button aria-label=\"Close\" type=\"button\" className=\"modal__close-button\" onClick={props.onClose}></button>\n            </div>\n        </div>\n    );\n}\n\nexport default ImagePopup;\n","// Token: 1700817e-a1e9-4638-acf5-4cd690372eaf\n// Group ID: group-9\n\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Error: ${res.status}`);\n  }\n  getUserInfo(token) {\n    return fetch(this.baseUrl + \"/users/me\", {\n      method: \"GET\",\n      headers: {\n        authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      }\n    }).then(this._checkResponse);\n\n  }\n  updateUserInfo(token, { name, about }) {\n    return fetch(this.baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: {\n        authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name,\n        about\n      })\n    }).then(this._checkResponse);\n  }\n  updateUserAvatar(token, avatar) {\n    return fetch(this.baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: {\n        authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards(token) {\n    return fetch(this.baseUrl + \"/cards\", {\n      method: \"GET\",\n      headers: {\n        authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      }\n    }).then(this._checkResponse);\n  }\n  getAppInfo() {\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]);\n  }\n  postCard(token, card) {\n    return fetch(this.baseUrl + \"/cards\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        name: card.name,\n        link: card.link\n      }),\n      headers: {\n        authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      }\n    }).then(this._checkResponse);\n  }\n  deleteCard(token, cardId) {\n    return fetch(this.baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: {\n        authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      }\n    }).then(this._checkResponse);\n  }\n  addLike(token, cardId) {\n    return fetch(this.baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"PUT\",\n      headers: {\n        authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      }\n    }).then(this._checkResponse);\n  }\n  removeLike(token, cardId) {\n    return fetch(this.baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"DELETE\",\n      headers: {\n        authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      }\n    }).then(this._checkResponse);\n  }\n\n}\n\n\nconst api = new Api({\n  baseUrl: \"http://localhost:3000/api\",\n  headers: {\n    // authorization: `Bearer ${token}`,\n    \"Content-Type\": \"application/json\",\n  }\n});\n\nexport default api;\n// https://api.assel.students.nomoreparties.site\n// authorization: \"1700817e-a1e9-4638-acf5-4cd690372eaf\"\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  let modalClassName = `modal modal-${props.name}`;\n  modalClassName = modalClassName + (props.isOpen ? ' modal_opened' : '');\n\n  return (\n    <div className={modalClassName}>\n      <div className=\"modal__container\">\n        <form className=\"form\" name=\"edit-profile\" onSubmit={props.onSubmit}>\n          <h2 className=\"form__heading\">{props.title}</h2>\n          {props.children}\n          <button aria-label=\"Submit\" type=\"submit\" className=\"form__save-button\">Save</button>\n        </form>\n        <button aria-label=\"Close\" type=\"button\" className=\"modal__close-button\" onClick={props.onClose}></button>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n// Subscription to the context\n\n\nfunction EditProfilePopup(props) {\n    const [name, setName] = useState(\"\")\n    const [description, setDescription] = useState(\"\")\n    const currentUser = React.useContext(CurrentUserContext);\n\n    React.useEffect(() => {\n        setName(currentUser.name || \"\");\n        setDescription(currentUser.about || \"\");\n    }, [currentUser]);\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value);\n    }\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateUser({\n            name: name,\n            about: description,\n        });\n    }\n\n    return (\n        <PopupWithForm isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} title={\"Edit profile\"} name=\"edit\" >\n            <input value={name} onChange={handleNameChange} id=\"name-input\" type=\"text\" name=\"name\" className=\"form__input form__input_type_name\" minLength=\"2\"\n                maxLength=\"40\" placeholder=\"Name\" required />\n            <span id=\"name-input-error\" className=\"form__input-error\"></span>\n            <input value={description} onChange={handleDescriptionChange} id=\"description-input\" type=\"text\" name=\"about\" className=\"form__input form__input_type_description\"\n                minLength=\"2\" maxLength=\"200\" placeholder=\"About\" required />\n            <span id=\"description-input-error\" className=\"form__input-error\"></span>\n        </PopupWithForm>\n    );\n}\n\nexport default EditProfilePopup;","import React, { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n    const avatarInput = useRef(\"\")\n\n    function handleAvatarSubmit(e) {\n        e.preventDefault();\n        props.onUpdateUserAvatar(avatarInput.current.value);\n        avatarInput.current.value = \"\";\n    }\n\n    return (\n        <PopupWithForm isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleAvatarSubmit} title={\"Change profile picture\"} name=\"avatar-edit\" >\n           <input ref={avatarInput} id=\"description-input\" type=\"url\" name=\"avatar-url\" className=\"form__input form__input_type_description\"\n          minLength=\"2\" maxLength=\"200\" placeholder=\"url\" required />\n        <span id=\"description-input-error\" className=\"form__input-error\"></span>\n        </PopupWithForm>\n    );\n}\n\nexport default EditAvatarPopup;","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n    const [nameInput, setNameInput] = useState(\"\")\n    const [descriptionInput, setDescriptionInput] = useState(\"\")\n    \n    function handleNameInputChange(e) {\n        setNameInput(e.target.value);\n    }\n    function handleDescriptionInputChange(e) {\n        setDescriptionInput(e.target.value);\n    }\n    \n    function handleAddPlaceSubmit(e) {\n        e.preventDefault();\n        props.onAddPlace({\n            name: nameInput,\n            link: descriptionInput\n        });\n        setNameInput(\"\");\n        setDescriptionInput(\"\");\n    }\n    \n    return (\n        <PopupWithForm isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleAddPlaceSubmit} title={\"New place\"} name=\"add\">\n           <input value={nameInput} onChange={handleNameInputChange} id=\"name-input\" type=\"text\" name=\"name\" className=\"form__input form__input_type_name\" minLength=\"2\"\n          maxLength=\"40\" placeholder=\"Title\" required />\n        <span id=\"name-input-error\" className=\"form__input-error\"></span>\n        <input value={descriptionInput} onChange={handleDescriptionInputChange}  id=\"description-input\" type=\"url\" name=\"about\" className=\"form__input form__input_type_description\"\n          minLength=\"2\" maxLength=\"200\" placeholder=\"Image link\" required />\n        <span id=\"description-input-error\" className=\"form__input-error\"></span>\n        </PopupWithForm>\n       \n    );\n}\n\nexport default AddPlacePopup;","\nimport React from 'react'\n\nfunction ConfirmPopup(props) {\n  const modalClass = props.isOpen ? 'modal_opened' : '';\n  function handleDeleteConfirmClick(e) {\n    e.preventDefault();\n    props.handleCardDeleteConfirm()\n  }\n  return (\n    <div className={`modal modal-figure ${modalClass}`}>\n      <div className=\"modal__container\">\n        <form className=\"form form-delete-confirm\" name=\"delete-confirm\">\n          <h2 className=\"form__heading\">Are you sure?</h2>\n          <button aria-label=\"delete-confirm\" type=\"submit\" className=\"form__save-button\" onClick={handleDeleteConfirmClick}>Yes</button>\n        </form>\n        <button aria-label=\"Close\" type=\"button\" className=\"modal__close-button\" onClick={props.onClose}></button>\n      </div>\n    </div>\n  );\n}\n\nexport default ConfirmPopup;\n","import React from 'react';\n\nfunction InfoTooltip(props) {\n\n  return (\n    <div className={`modal modal_opened`} >\n      <div className=\"modal__container infotooltip\">\n        <img alt='error status' src={props.imgSrc} className=\"infotooltip__img\"/>\n        <h2 className=\"infotooltip__heading\">{props.message}</h2>\n        <button aria-label=\"Close\" type=\"button\" className=\"modal__close-button\" onClick={props.onClose}></button>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/union.7c6a020b.svg\";","import React, { useState, useEffect } from 'react';\nimport { Route, Switch, withRouter, useHistory } from 'react-router-dom'\nimport ProtectedRoute from './ProtectedRoute';\nimport Header from \"./Header\";\nimport Login from './Login';\nimport Register from './Register';\nimport * as auth from '../utils/auth';\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from './ImagePopup';\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmPopup from './ConfirmPopup';\nimport InfoTooltip from './InfoTooltip';\nimport success from '../images/success.svg';\nimport failed from '../images/union.svg';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState({});\n  const [isEditProfileModalOpen, setEditProfileModalOpen] = useState(false);\n  const [isAddPlaceModalOpen, setAddPlaceModalOpen] = useState(false);\n  const [isEditAvatarModalOpen, setEditAvatarModalOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [confirmDeletePopup, setConfirmDeletePopup] = useState({ isOpen: false, id: '' });\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const history = useHistory();\n  const [registerStatus, setRegisterStatus] = useState({ registered: false, showModal: false });\n  const [token, setToken] = useState(() => localStorage.getItem('jwt'));\n\n  useEffect(() => {\n    function handleTokenCheck() {\n      if (token) {\n        auth.checkToken(token).then(() => {\n          setLoggedIn(true);\n        }).then(() => {\n          history.push('/');\n        });\n      }\n    }\n    handleTokenCheck();\n  }, [history, token]);\n\n  useEffect(() => {\n    console.log('User Info:' + token);\n    api.getUserInfo(token).then((res) => {\n      setCurrentUser(res.user);\n    }).catch((err) => {\n      console.log(err);\n    });\n  }, [token]);\n\n  useEffect(() => {\n    console.log('Initial cards:' + token);\n    api.getInitialCards(token).then((res) => {\n      setCards(res);\n    }).catch((err) => {\n      console.log(err);\n    });\n  }, [token]);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    console.log('isliked'+isLiked);\n    if (isLiked) {\n      api.removeLike(token, card._id).then((newCard) => {\n        setCards(cards.map((c) => {\n          return c._id === newCard._id ? newCard : c\n        }))\n      }).catch((err) => {\n        console.log(err);\n      });\n    } else {\n      api.addLike(token, card._id).then((newCard) => {\n        setCards(cards.map((c) => {\n          return c._id === newCard._id ? newCard : c\n        }))\n      }).catch((err) => {\n        console.log(err);\n      });\n    }\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarModalOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfileModalOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlaceModalOpen(true);\n  }\n\n  function handleCloseAllModals() {\n    setEditAvatarModalOpen(false);\n    setEditProfileModalOpen(false);\n    setAddPlaceModalOpen(false);\n    setConfirmDeletePopup({ isOpen: false, id: null })\n    setSelectedCard({});\n  }\n\n  function handleCardClick({ name, link }) {\n    setSelectedCard({ name, link });\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api.updateUserInfo(token, { name, about }).then((res) => {\n      setCurrentUser(res.user);\n      handleCloseAllModals();\n    }).catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleUpdateUserAvatar(avatar) {\n    console.log('avatar' + avatar);\n    api.updateUserAvatar(token, avatar).then((res) => {\n      console.log(avatar)\n      setCurrentUser(res.user);\n      handleCloseAllModals();\n    }).catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleCardDelete(card) {\n    setConfirmDeletePopup({ isOpen: true, id: card._id });\n  }\n\n  function handleCardDeleteConfirm() {\n    if (confirmDeletePopup.isOpen && confirmDeletePopup.id) {\n      api.deleteCard(token, confirmDeletePopup.id).then(() => {\n        setCards(cards.filter((c) => {\n          return c._id !== confirmDeletePopup.id;\n        }));\n        handleCloseAllModals();\n      }).catch((err) => {\n        console.log(err);\n      });\n    } else {\n      return\n    }\n  }\n\n  function handleAddPlace(card) {\n    api.postCard(token, card).then((newCard) => {\n      setCards([newCard, ...cards]);\n      handleCloseAllModals();\n    }).catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleSignOut() {\n    setToken('');\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    history.push('/signin');\n  }\n\n  function handleLogin() {\n    setLoggedIn(true);\n  }\n\n  // function handleTokenCheck() {\n  //   const token = localStorage.getItem('token');\n  //   if (token) {\n  //     auth.checkToken(token).then(() => {\n  //       setLoggedIn(true);\n  //     }).then(() => {\n  //       history.push('/');\n  //     });\n  //   }\n  // }\n\n  function handleAuthorize(email, password) {\n    auth.authorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          handleLogin();\n          setToken(data.token);\n          history.push('/');\n        }\n      })\n      .catch(err => console.log(err));\n  }\n\n\n  function handleRegister(email, password) {\n    auth.register(email, password).then((res) => {\n      console.log(res)\n      if (res) {\n        setRegisterStatus({ registered: true, showModal: true });\n      } else {\n        setRegisterStatus({ showModal: true });\n      }\n    });\n  }\n\n  function handleInfoTooltipClose() {\n    if (registerStatus.showModal && registerStatus.registered) {\n      setRegisterStatus({ showModal: false });\n      history.push('/signin');\n    } else {\n      setRegisterStatus({ showModal: false });\n    }\n  }\n\n  let InfoTooltipMessage;\n  let InfoTooltipImgSrc;\n  if (registerStatus.showModal && registerStatus.registered) {\n    InfoTooltipMessage = 'Success! You have now been registered.'\n    InfoTooltipImgSrc = success;\n  } else if (registerStatus.showModal) {\n    InfoTooltipMessage = 'Oops, something went wrong! Please try again.'\n    InfoTooltipImgSrc = failed;\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header handleSignOut={handleSignOut} />\n        <Switch>\n          <Route path=\"/signup\">\n            <Register handleRegister={handleRegister} />\n            {registerStatus.showModal && <InfoTooltip onClose={handleInfoTooltipClose} message={InfoTooltipMessage} imgSrc={InfoTooltipImgSrc} />}\n          </Route>\n          <Route path=\"/signin\">\n            <Login handleAuthorize={handleAuthorize} />\n          </Route>\n          <ProtectedRoute path=\"/\" loggedIn={loggedIn}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            handleCardLike={handleCardLike}\n            handleCardDelete={handleCardDelete} component={Main} />\n\n        </Switch>\n\n        <Footer />\n\n        <EditProfilePopup isOpen={isEditProfileModalOpen} onClose={handleCloseAllModals} onUpdateUser={handleUpdateUser} />\n        <EditAvatarPopup isOpen={isEditAvatarModalOpen} onClose={handleCloseAllModals} onUpdateUserAvatar={handleUpdateUserAvatar} />\n        <AddPlacePopup isOpen={isAddPlaceModalOpen} onClose={handleCloseAllModals} onAddPlace={handleAddPlace} />\n        <ImagePopup card={selectedCard} onClose={handleCloseAllModals} />\n        <ConfirmPopup isOpen={confirmDeletePopup.isOpen} onClose={handleCloseAllModals} handleCardDeleteConfirm={handleCardDeleteConfirm} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter >\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}